<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Smart TRK - Users</title>

    <link rel="shortcut icon" href="../common/favicon.png">
    <link rel="stylesheet" type="text/css" href="../css/users.css">

    <img src="../common/syswinBackground.png" class="bg" />

    <link rel="stylesheet" href="../../bower_components/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="../../bower_components/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../../bower_components/bootstrap-select/bootstrap-select.css" />

    <script src="../../bower_components/jquery/dist/jquery.min.js"></script>
    <script src="../../bower_components/bootstrap-select/bootstrap-select.js"></script>
    <script src="../../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../../bower_components/jqBootstrapValidation/src/jqBootstrapValidation.js"></script>

    <script src="../scripts/users.js"></script>
</head>

<body>
<header>
    <div class="container">
        <nav class="navbar navbar-default" role="navigation">
            <div class="container-fluid">
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li><a class="navbar-brand" href="http://dev.threepress.es/syswin/"><strong>Smart <font color="#33ADFF">TRK</font></strong></a></li>
                        <li><a href="../home.html"><strong><font size="4">Home</font></strong></a></li>
                        <li><a href="../about.html"><strong><font size="4">About</font></strong></a></li>
                        <li><a href="../contact.html"><strong><font size="4">Contact</font></strong></a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><strong><font size="4">Options</font></strong><span class="caret"></span></a>
                            <ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dropdownMenu">
                                <li><a href="#"><strong><font size="3.8">Users</font></strong></a></li>
                                <li class="divider"></li>
                                <li class="dropdown-submenu">
                                    <a tabindex="-1" href="#"><strong><font size="3.8">Devices</font></strong></a>
                                    <ul class="dropdown-menu">
                                        <li><a href="devices/logs.html"><strong><font size="3">Logs</font></strong></a></li><br>
                                        <li><a href="devices/statistics.html"><strong><font size="3">Statistics</font></strong></a></li><br>
                                        <li><a href="devices/map.html"><strong><font size="3">Map</font></strong></a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li class="active"><a href="#"><strong><font size="4">Users</font></strong></a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        </li><li><p style="float: right" class="navbar-text"><font size="3"><b>USER:</b></font> adminUser</p></li>
                        <li><a style="float: right" href="../login.html"><font size="3"><i>[logout]</i></font></a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
    </div>
</header>

<div class="container">
    <div class="row">
        <div class="col-sm-12 col-lg-12">
            <div class="panel" style="background-color: #eee" style="padding-bottom: 0px !important;">
                <div class="accordion" id="helpAccordion">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <a class="helpAccordionClass" data-toggle="collapse" data-parent="#accordion1" href="#collapseOne">
                                <div class="panel-heading">
                                    <h3><i style="color: #00b3ee" class="glyphicon glyphicon-wrench main-color"></i> Permissions
                                        <i id="accordionZoom" style="color: #00b3ee; float: right" class="glyphicon glyphicon-zoom-in main-color"></i>
                                    </h3>
                                </div>
                            </a>
                        </div>
                        <div id="collapseOne" class="accordion-body collapse out">
                            <div style="padding-right: 20px; padding-left: 20px; font-size: 25px">
                                <i id="addPermission" style="color: #4cae4c" class="glyphicon glyphicon-plus main-color" onclick="popUpPermissionCreation()"></i>
                                <i id="editPermission" style="color: #00b3ee" class="glyphicon glyphicon-pencil main-color"></i>
                                <i id= "deletePrmission" style="color: #d58512" class="glyphicon glyphicon-trash main-color"></i>
                            </div>
                            <div style="padding-left: 15px; padding-right: 15px;" class="accordion-inner">
                                <table id="permissionsTable" class="table table-hover">

                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12 col-lg-12">
            <div class="panel">
                <div class="panel-heading">
                    <h3><i style="color: #00b3ee" class="glyphicon glyphicon-user main-color"></i> Users</h3>
                </div>
                <div class="panel-body">
                    <div style="padding-right: 20px; padding-left: 20px; font-size: 25px">
                        <i id="addUser" style="color: #4cae4c" class="glyphicon glyphicon-plus main-color" onclick="popUpUserCreation()"></i>
                        <i id="editUser" style="color: #00b3ee" class="glyphicon glyphicon-pencil main-color"></i>
                        <i id= "deleteUser" style="color: #d58512" class="glyphicon glyphicon-trash main-color"></i>

                        <br>
                        <i style="color: #00b3ee;" class="glyphicon glyphicon-th-list main-color"></i>
                            <font style="padding-left: 10px; padding-right: 20px;">Number of users
                            </font>
                        <select id="usersSelect" class="selectpicker" title='Number of users' data-style="btn-success" onchange="noElementsChanged(this.value)">
                        </select>
                    </div>

                    <ul id="pagination1" class="pagination" style="padding-left: 30px; margin: 0px; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;">
                    </ul>


                    <table id="usersTable" class="table table-hover">

                    </table>

                    <ul id="pagination2" class="pagination" style="padding-left: 30px; margin: 0px; margin-bottom: 10px; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;">
                    </ul>
                </div>
            </div>
        </div>

    </div>
</div>


<div id="myModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header" style="background-color: #28a4c9; color: #ffffff">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Create new permission.</h4>
            </div>

            <form id="createPermissionForm" style="font-size: 20px" onsubmit="return createPermission(this)">
                <div class="modal-body">

                    <input type="text" class="form-control" name="pName" placeholder="Name" required="" autofocus="" />

                    <table style="width: 100%; margin: 10px">
                        <tr>
                            <td><input type="checkbox" id="pAssetsR" name="pAssetsR" value="pAssetsR" onchange="permissionFormChanged(this)"> Assets read</td>
                            <td><input type="checkbox" id="pAssetsRW" name="pAssetsRW" value="pAssetsRW" onchange="permissionFormChanged(this)"> Assets write</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" id="pObjectivesR" name="pObjectivesR" value="pObjectivesR" onchange="permissionFormChanged(this)"> Objectives read</td>
                            <td><input type="checkbox" id="pObjectivesRW" name="pObjectivesRW" value="pObjectivesRW" onchange="permissionFormChanged(this)"> Objectives write</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" id="pUsersR" name="pUsersR" value="pUsersR" onchange="permissionFormChanged(this)"> Users read</td>
                            <td><input type="checkbox" id="pUsersRE" name="pUsersRE" value="pUsersRE" onchange="permissionFormChanged(this)"> Users edit</td>
                            <td><input type="checkbox" id="pUsersREW" name="pUsersREW" value="pUsersREW" onchange="permissionFormChanged(this)"> Users create</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" id="pAlertsR" name="pAlertsR" value="pAlertsR" onchange="permissionFormChanged(this)"> Alerts read</td>
                            <td><input type="checkbox" id="pAlertsRW" name="pAlertsRW" value="pAlertsRW" onchange="permissionFormChanged(this)"> Alerts write</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" id="pLogsR" name="pLogsR" value="pLogsR" onchange="permissionFormChanged(this)"> Logs read</td>
                            <td><input type="checkbox" id="pLogsRW" name="pLogsRW" value="pLogsRW" onchange="permissionFormChanged(this)"> Logs write</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" id="pStatisticsR" name="pStatisticsR" value="pStatisticsR" onchange="permissionFormChanged(this)"> Statistics read</td>
                        </tr>
                    </table>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <input type="submit" class="btn btn-primary" value="Save permission">
                </div>
            </form>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div id="myModal2" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header" style="background-color: #28a4c9; color: #ffffff">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Create new user.</h4>
            </div>

            <form id="createUserForm" method="post" class="form-horizontal" style="font-size: 20px" onsubmit="return createUser(this)" method="post">
                <div class="modal-body">

                    <div class="control-group">
                        <label class="control-label">First name<sup> (*)</sup></label>
                        <div class="controls">
                            <input type="text" class="form-control" name="firstName" placeholder="First Name" autofocus="" required />
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Last name<sup> (*)</sup></label>
                        <div class="controls">
                            <input type="text" class="form-control" name="lastName" placeholder="Last Name" autofocus="" required />
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Username<sup> (*)</sup></label>
                        <div class="controls">
                            <input type="text" class="form-control" name="username" placeholder="User Name" autofocus="" required />
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Password<sup> (*)</sup></label>
                        <div class="controls">
                            <input type="password" class="form-control" name="password" placeholder="Password" autofocus="" required />
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Confirm password<sup> (*)</sup></label>
                        <div class="controls">
                            <input type="password" class="form-control" name="confirm_password" data-validation-match-match="password" placeholder="Confirm Password" autofocus="" required />
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Telephone</label>
                        <div class="controls">
                            <input type="text" class="form-control" name="phone" placeholder="Telephone" autofocus=""/>
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Email address</label>
                        <div class="controls">
                            <input type="email" class="form-control" name="email" placeholder="E-Mail" autofocus=""/>
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Employee ID</label>
                        <div class="controls">
                            <input type="text" class="form-control" name="employeeId" placeholder="Emplyee ID" autofocus=""/>
                            <p class="help-block"></p>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Permission<sup> (*)</sup></label>
                        <div class="controls" style="display: inline-block">
                            <select id="usersPermissionSelect" name="permission" class="selectpicker">
                            </select>
                            <p class="help-block"></p>
                        </div>
                    </div>


                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <input type="submit" class="btn btn-primary" value="Save permission">
                </div>
            </form>
            <script>
                createUsersPermissionSelect();
                $(function () { $("input,select,textarea").not("[type=submit]").jqBootstrapValidation(); } );
            </script>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<script>
    createPermissionsTable();
    createSelect();
    createPages();
    createUsersTable();
    $('select').selectpicker();
</script>

</body>
</html>
